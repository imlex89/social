{"version":3,"sources":["components/Profile/Profileinfo/Profileinfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/Profileinfo/ProfileStatusWithHooks.jsx","components/Profile/Profileinfo/Profileinfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","Profileinfo","profile","className","s","userInfo","ava","src","photos","large","alt","description","fullName","Preloader","Post","item","img","message","like","likeCounts","MyPosts","React","memo","postsElements","posts","reverse","map","p","key","likesCount","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","name","component","Textarea","validate","required","placeholder","SuperMyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","MyPostsContainer","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.8387fec2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"Profileinfo_bg__3Yx-m\",\"userInfo\":\"Profileinfo_userInfo__2zGde\",\"ava\":\"Profileinfo_ava__1hX7g\",\"description\":\"Profileinfo_description__2cWL9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Post_img__38ehp\",\"message\":\"Post_message__3raFK\",\"like\":\"Post_like__oViQh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addPost\":\"MyPosts_addPost__qj3M7\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, useEffect } from \"react\";\n\nconst ProfileStatusWithHooks = (props) => {\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  };\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n  return (\n    <div>\n      {!editMode && (\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            {props.status || \"-----\"}\n          </span>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            onChange={onStatusChange}\n            value={status}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport s from \"./Profileinfo.module.css\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nconst Profileinfo = ({ profile, status, updateStatus }) => {\n  if (!profile) {\n    return <Preloader />;\n  }\n  return (\n    <div>\n      <div>\n        <div className={`${s.userInfo} flex`}>\n          <div className={s.ava}>\n            <img src={profile.photos.large} alt={profile.photos.large} />\n          </div>\n          <div className={s.description}>\n            <h3>{profile.fullName}</h3>\n            <ProfileStatusWithHooks\n              status={status}\n              updateStatus={updateStatus}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profileinfo;\n","/* eslint-disable jsx-a11y/alt-text */\nimport React from \"react\";\nimport s from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <div className=\"flex\">\n        <div className={s.img}>\n          <img src={props.img} />\n        </div>\n        <div className={s.message}>\n          <p>{props.message}</p>\n        </div>\n      </div>\n      <div className={`${s.like} flex`}>\n          <img src=\"https://cdn4.iconfinder.com/data/icons/evil-icons-user-interface/64/like-512.png\" />{props.likeCounts}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;","import React from \"react\";\nimport Post from \"./Post/Post\";\nimport s from \"./MyPosts.module.css\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {\n  required,\n  maxLengthCreator,\n} from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\n\nconst MyPosts = React.memo((props) => {\n  /*shouldComponentUpdate(nextProps, nextState) {\n    return nextProps !== this.props || nextProps !== this.state;\n  }*/\n\n  let postsElements = [...props.posts]\n    .reverse()\n    .map((p, i) => (\n      <Post key={i} message={p.message} likeCounts={p.likesCount} img={p.img} />\n    ));\n\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  };\n\n  return (\n    <div>\n      <h3>My posts</h3>\n      <AddNewPostFormRedux onSubmit={onAddPost} />\n      <div>{postsElements}</div>\n    </div>\n  );\n});\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit} className={`${s.addPost} flex`}>\n      <Field\n        name=\"newPostText\"\n        component={Textarea}\n        validate={[required, maxLength10]}\n        placeholder={\"Post message\"}\n      />\n      <button>Add post</button>\n    </form>\n  );\n};\n\nconst AddNewPostFormRedux = reduxForm({ form: \"ProfileAddNewPostForm\" })(\n  AddNewPostForm\n);\n\nexport default MyPosts;\n","import React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/reducer/reducer-profile\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n}\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n    }\n}\n\nconst SuperMyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\n\nexport default SuperMyPostsContainer;\n","import React from \"react\";\nimport Profileinfo from \"./Profileinfo/Profileinfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <Profileinfo profile={props.profile}\n                   status={props.status}\n                   updateStatus={props.updateStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport {\n  getStatus,\n  getUserProfile,\n  updateStatus,\n} from \"../../redux/reducer/reducer-profile\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n  render() {\n    return (\n      <Profile\n        {...this.props}\n        profile={this.props.profile}\n        status={this.props.status}\n        updateStatus={this.props.updateStatus}\n      />\n    );\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  authorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth,\n});\n\nexport default compose(\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\n  withRouter\n)(ProfileContainer);\n"],"sourceRoot":""}